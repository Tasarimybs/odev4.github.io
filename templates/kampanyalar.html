<!DOCTYPE html>
<html class="dark" lang="tr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Kampanyalar | TechStore</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}"/>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: '#1e40af'
      }
    }
  }
}
</script>
<style>
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out forwards;
}

.animate-slideInUp {
  animation: slideInUp 0.6s ease-out forwards;
}

.campaign-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.campaign-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(19, 91, 236, 0.15);
}

.badge-discount {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.stagger-1 { animation-delay: 0.1s; }
.stagger-2 { animation-delay: 0.2s; }
.stagger-3 { animation-delay: 0.3s; }
.stagger-4 { animation-delay: 0.4s; }
.stagger-5 { animation-delay: 0.5s; }
.stagger-6 { animation-delay: 0.6s; }

.timer-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  border-radius: 0.75rem;
  background: linear-gradient(135deg, rgba(59,130,246,0.14), rgba(29,78,216,0.12));
  border: 1px solid rgba(59,130,246,0.25);
  box-shadow: 0 10px 25px rgba(59,130,246,0.08);
  animation: pulse 2.2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.timer-box .countdown {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  font-weight: 800;
  letter-spacing: 0.04em;
}
</style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">

<!-- Header -->
<header class="sticky top-0 z-50 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex items-center justify-between whitespace-nowrap border-b border-gray-200 dark:border-gray-800 py-3">
<div class="flex items-center gap-8">
<div class="flex items-center gap-4 text-gray-900 dark:text-white">
<div class="size-6 text-primary">
<svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M6 6H42L36 24L42 42H6L12 24L6 6Z" fill="currentColor"></path>
</svg>
</div>
<h2 class="text-lg font-bold tracking-tight">TechStore</h2>
</div>
<nav class="hidden lg:flex items-center gap-9">
<a class="text-sm font-medium hover:text-primary transition-colors" href="/">Ana Sayfa</a>
<a class="text-sm font-medium hover:text-primary transition-colors" href="/hakkimizda">HakkÄ±mÄ±zda</a>
<a class="text-sm font-medium hover:text-primary transition-colors" href="/iletisim">Ä°letiÅŸim</a>
<a class="text-sm font-medium hover:text-primary transition-colors" href="/sepet">Sepet</a>
</nav>
</div>
<div class="flex items-center justify-end gap-4">
<label class="hidden md:flex flex-col min-w-40 !h-10 max-w-64">
<form action="/ara" method="GET" class="flex w-full flex-1 items-stretch rounded-lg h-full bg-gray-100 dark:bg-white/5">
<div class="text-gray-400 dark:text-gray-500 flex items-center justify-center pl-3">
<span class="material-symbols-outlined text-xl">search</span>
</div>
<input class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-gray-800 dark:text-white focus:outline-0 focus:ring-0 border-none bg-transparent h-full placeholder:text-gray-400 dark:placeholder:text-gray-500 px-2 text-sm font-normal" placeholder="Search" name="q" value=""/>
</form>
</label>
{% if session.get('user_id') %}
<div class="flex items-center gap-2">
<span class="hidden sm:inline text-sm font-medium text-gray-700 dark:text-gray-300">{{ session.get('user_name') }}</span>
<a href="/profil" class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-primary/10 dark:bg-primary/20 text-primary hover:bg-primary/20 dark:hover:bg-primary/30 gap-2 text-sm font-bold min-w-0 px-2.5 transition-colors">
<span class="material-symbols-outlined text-xl">person</span>
</a>
</div>
{% else %}
<a href="/login" class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-gray-100 dark:bg-white/5 text-gray-800 dark:text-white gap-2 text-sm font-bold min-w-0 px-2.5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors">
<span class="material-symbols-outlined text-xl">person</span>
</a>
{% endif %}
<a href="/sepet" class="relative flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-gray-100 dark:bg-white/5 text-gray-800 dark:text-white gap-2 text-sm font-bold min-w-0 px-2.5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors">
<span class="material-symbols-outlined text-xl">shopping_cart</span>
<span class="absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-white text-xs font-bold">{{ sepet_urun_sayisi }}</span>
</a>
<button id="mobileMenuBtn" class="lg:hidden p-2 rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-white/10" aria-label="MenÃ¼">
  <span class="material-symbols-outlined">menu</span>
</button>
</div>
</div>
</div>
</header>
<!-- Mobile menu -->
<div id="mobileMenu" class="lg:hidden hidden border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex flex-col gap-3">
    <a class="text-sm font-medium hover:text-blue-600 transition-colors" href="/">Ana Sayfa</a>
    <a class="text-sm font-medium hover:text-blue-600 transition-colors" href="/hakkimizda">HakkÄ±mÄ±zda</a>
    <a class="text-sm font-medium hover:text-blue-600 transition-colors" href="/iletisim">Ä°letiÅŸim</a>
    <a class="text-sm font-medium hover:text-blue-600 transition-colors" href="/sepet">Sepet</a>
  </nav>
</div>

<main class="flex-1">
<!-- Breadcrumb & Title -->
<div class="bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 border-b border-gray-200 dark:border-gray-800">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
<nav class="flex items-center gap-2 mb-6 text-sm">
<a href="/" class="text-gray-600 dark:text-gray-400 hover:text-blue-600">Ana Sayfa</a>
<span class="text-gray-400">/</span>
<span class="text-blue-600 font-medium">Kampanyalar</span>
</nav>
<div class="animate-slideInUp">
<h1 class="text-4xl md:text-5xl font-bold mb-3">Kampanyalar</h1>
<p class="text-lg text-gray-600 dark:text-gray-400">En iyi fÄ±rsatlarÄ± kaÃ§Ä±rmayÄ±n. SÄ±nÄ±rlÄ± sÃ¼re iÃ§in Ã¶zel indirimler sizleri bekliyor.</p>
</div>
</div>
</div>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

<!-- Featured Campaign Banner removed as requested -->

<!-- Active Campaigns -->
<div class="mb-12">
<div class="flex flex-col gap-3 mb-8">
  <div>
    <h3 class="text-2xl font-bold">Aktif Kampanyalar</h3>
    <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">24 saatlik indirim sayaÃ§larÄ±nÄ± takip edin, sÃ¼re dolmadan Ã¼rÃ¼nÃ¼ yakalayÄ±n.</p>
  </div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
{% if kampanyalar %}
{% for k in kampanyalar %}
<div class="animate-fadeIn stagger-{{ loop.index }} campaign-card group rounded-xl overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm">
<!-- Campaign Image -->
<div class="relative h-48 overflow-hidden bg-gray-200 dark:bg-gray-700">
{% set prod = k.products|first %}
{% set img_src = (prod.image if prod and prod.image else (k.image if k.image else 'https://images.unsplash.com/photo-1552820728-8ac41f1ce891?w=600&q=80')) %}
<img src="{{ img_src }}" 
alt="{{ prod.name if prod and prod.name else k.title }}" 
class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"/>
{% if k.is_24h %}
<div class="absolute top-4 left-4 bg-white/20 backdrop-blur text-white font-semibold px-3 py-1 rounded-full flex items-center gap-2">
<span class="material-symbols-outlined text-sm">bolt</span>
<span>24 SAATLÄ°K Ä°NDÄ°RÄ°M</span>
</div>
{% endif %}
{% if k.ends_at %}
<div class="absolute bottom-3 left-3 bg-black/55 text-white px-3 py-2 rounded-lg flex items-center gap-2 backdrop-blur-sm">
<span class="material-symbols-outlined text-sm">hourglass_top</span>
<span class="countdown text-sm font-semibold" data-end="{{ k.ends_at }}">--:--:--</span>
</div>
{% endif %}
<div class="absolute top-4 right-4 badge-discount rounded-full px-4 py-2 text-white font-bold text-lg shadow-lg">
%{{ k.percent_discount or '25' }} OFF
</div>
</div>

<!-- Campaign Details -->
<div class="p-6">
<h4 class="text-xl font-bold mb-2">{{ k.title }}</h4>
<p class="text-gray-600 dark:text-gray-400 text-sm mb-4">{{ k.subtitle }}</p>

{% if k.ends_at %}
<div class="timer-box mb-5">
<div class="flex items-center gap-2 text-blue-800 dark:text-blue-100 text-sm font-semibold">
<span class="material-symbols-outlined text-base">schedule</span>
<span>Kalan SÃ¼re</span>
</div>
<span class="countdown text-lg text-blue-900 dark:text-white" data-end="{{ k.ends_at }}">--:--:--</span>
</div>
{% endif %}

<!-- Campaign Info -->
<div class="space-y-3 mb-6 py-4 border-y border-gray-200 dark:border-gray-700">
{% if k.min_cart_total %}
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600 dark:text-gray-400">Min. Sepet TutarÄ±:</span>
<span class="font-semibold text-blue-600">{{ k.min_cart_total }} â‚º</span>
</div>
{% endif %}
<div class="flex items-center justify-between text-sm">
<span class="text-gray-600 dark:text-gray-400">Ä°ndirim OranÄ±:</span>
<span class="font-semibold text-blue-600">%{{ k.percent_discount or '25' }}</span>
</div>
</div>

<!-- Action Buttons -->
<div class="flex gap-3">
<a href="{{ '/urun/' ~ prod.id if prod else '/' }}" class="flex-1 bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-center flex items-center justify-center gap-2">
<span>AlÄ±ÅŸveriÅŸe BaÅŸla</span>
<span class="material-symbols-outlined text-sm">shopping_bag</span>
</a>
<a href="/ara?q={{ k.title }}" class="px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-600 hover:text-blue-600 transition-colors text-center font-medium flex items-center justify-center gap-2">
<span class="material-symbols-outlined text-sm">search</span>
</a>
</div>
</div>
</div>
{% endfor %}
{% else %}
<div class="col-span-full text-center py-12">
<div class="text-gray-400 dark:text-gray-600 text-lg">
<span class="material-symbols-outlined text-5xl mb-4 block">local_offer</span>
Åu anda aktif kampanya bulunmamaktadÄ±r.
</div>
</div>
{% endif %}
</div>
</div>

<!-- Telefon ÃœrÃ¼nleri section removed as requested -->

<!-- Quick Links removed as requested -->

<!-- Info Cards removed as requested -->

</div>
</main>

<!-- Footer -->
<footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-20">
<div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
<div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-8">
<div>
<h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 tracking-wider uppercase">Kurumsal</h3>
<ul class="mt-4 space-y-4">
<li><a class="text-base text-gray-600 dark:text-gray-300 hover:text-blue-600" href="/hakkimizda">HakkÄ±mÄ±zda</a></li>
<li><a class="text-base text-gray-600 dark:text-gray-300 hover:text-blue-600" href="#">Kariyer</a></li>
<li><a class="text-base text-gray-600 dark:text-gray-300 hover:text-blue-600" href="/iletisim">Ä°letiÅŸim</a></li>
</ul>
</div>
<div class="col-span-2 md:col-span-2">
<h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 tracking-wider uppercase">Bize KatÄ±lÄ±n</h3>
<p class="mt-4 text-base text-gray-600 dark:text-gray-300">En son haberler ve kampanyalar iÃ§in bizi takip edin.</p>
<div class="mt-4 flex gap-4">
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 text-2xl">f</a>
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 text-2xl">ğ•</a>
<a href="#" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 text-2xl">ğŸ“·</a>
</div>
</div>
</div>
<div class="border-t border-gray-200 dark:border-gray-800 pt-8">
<p class="text-base text-gray-400 dark:text-gray-500 text-center">Â© 2024 TechStore. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
</div>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const mobileBtn = document.getElementById('mobileMenuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  if (mobileBtn && mobileMenu) {
    mobileBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
  }

  const timers = document.querySelectorAll('.countdown');

  timers.forEach((el) => {
    const endValue = el.dataset.end;
    if (!endValue) return;

    const endDate = new Date(endValue.endsWith('Z') ? endValue : `${endValue}Z`);

    const updateTimer = () => {
      const diff = endDate.getTime() - Date.now();

      if (diff <= 0) {
        el.textContent = '00:00:00';
        const card = el.closest('.campaign-card');
        if (card) card.classList.add('opacity-75');
        return;
      }

      const hours = String(Math.floor(diff / 36e5)).padStart(2, '0');
      const minutes = String(Math.floor((diff % 36e5) / 6e4)).padStart(2, '0');
      const seconds = String(Math.floor((diff % 6e4) / 1e3)).padStart(2, '0');
      el.textContent = `${hours}:${minutes}:${seconds}`;
    };

    updateTimer();
    setInterval(updateTimer, 1000);
  });
});
</script>

</body>
</html>
