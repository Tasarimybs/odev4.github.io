<!DOCTYPE html>
<html class="dark" lang="tr"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Profilim | TechStore</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
<style>
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        html { scroll-behavior: smooth; }
        .btn-hover { position: relative; overflow: hidden; }
        .btn-hover::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255, 255, 255, 0.1); transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s; }
        .btn-hover:hover::before { width: 300px; height: 300px; }
    </style>
<script id="tailwind-config">
      tailwind.config = { darkMode: "class", theme: { extend: { colors: { "primary": "#135bec", "background-light": "#f6f6f8", "background-dark": "#101622" }, fontFamily: { "display": ["Inter", "sans-serif"] }, borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"} } } }
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
<div class="layout-container flex h-full grow flex-col">
<header class="sticky top-0 z-50 w-full bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
<div class="px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
<div class="flex items-center justify-between whitespace-nowrap border-b border-gray-200 dark:border-gray-800 py-3">
<div class="flex items-center gap-8">
<a href="/" class="flex items-center gap-4 text-gray-900 dark:text-white hover:text-primary transition-colors">
<div class="size-6 text-primary">
<svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
<path d="M6 6H42L36 24L42 42H6L12 24L6 6Z" fill="currentColor"></path>
</svg>
</div>
<h2 class="text-lg font-bold tracking-tight">TechStore</h2>
</a>
</div>
<div class="flex items-center justify-end gap-4">
<a href="/sepet" class="relative flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-gray-100 dark:bg-white/5 text-gray-800 dark:text-white gap-2 text-sm font-bold min-w-0 px-2.5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors">
<span class="material-symbols-outlined text-xl">shopping_cart</span>
<span class="absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-white text-xs font-bold">{{ sepet_urun_sayisi }}</span>
</a>
<a href="/logout-home" class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-red-500/10 dark:bg-red-900/20 text-red-600 dark:text-red-400 gap-2 text-sm font-bold min-w-0 px-2.5 hover:bg-red-500/20 dark:hover:bg-red-900/40 transition-colors">
<span class="material-symbols-outlined text-xl">logout</span>
</a>
</div>
</div>
</div>
</header>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="flash-container" class="fixed top-20 right-4 z-50 space-y-2">
      {% for category, message in messages %}
      <div class="flash-message bg-white dark:bg-gray-800 border-l-4 {% if category == 'success' %}border-green-500{% elif category == 'error' %}border-red-500{% else %}border-blue-500{% endif %} rounded-lg shadow-lg p-4 min-w-[320px] animate-slide-in">
        <div class="flex items-center gap-3">
          <span class="material-symbols-outlined text-2xl {% if category == 'success' %}text-green-500{% elif category == 'error' %}text-red-500{% else %}text-blue-500{% endif %}">
            {% if category == 'success' %}check_circle{% elif category == 'error' %}error{% else %}info{% endif %}
          </span>
          <p class="text-sm font-semibold text-gray-800 dark:text-white">{{ message }}</p>
        </div>
      </div>
      {% endfor %}
    </div>
    <style>
      @keyframes slide-in { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
      .animate-slide-in { animation: slide-in 0.3s ease-out; }
    </style>
    <script>
      setTimeout(() => {
        const container = document.getElementById('flash-container');
        if (container) { container.style.transition = 'opacity 0.5s'; container.style.opacity = '0'; setTimeout(() => container.remove(), 500); }
      }, 3000);
    </script>
  {% endif %}
{% endwith %}

<main class="flex-1">
<div class="px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto py-8 sm:py-12">
<div class="mb-8">
<h1 class="text-3xl sm:text-4xl font-black text-gray-900 dark:text-white mb-2">Profilim</h1>
<p class="text-base text-gray-500 dark:text-gray-400">Hesap bilgilerinizi yönetin</p>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
<div class="lg:col-span-2">
<div class="bg-white dark:bg-gray-900/50 rounded-xl shadow-lg p-8">
<div class="flex items-center gap-4 mb-8 pb-8 border-b border-gray-200 dark:border-gray-800">
<div class="size-16 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white">
<span class="material-symbols-outlined text-4xl">account_circle</span>
</div>
<div>
<h2 class="text-2xl font-bold text-gray-900 dark:text-white">{{ user.name }}</h2>
<p class="text-gray-500 dark:text-gray-400">{{ user.email }}</p>
</div>
</div>

<form method="post" action="/profil-guncelle" class="space-y-6">
<div>
<label class="text-sm font-semibold text-gray-700 dark:text-gray-300 block mb-2">Ad Soyad</label>
<input type="text" name="name" value="{{ user.name }}" class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary transition-all" />
</div>

<div>
<label class="text-sm font-semibold text-gray-700 dark:text-gray-300 block mb-2">Telefon Numarası</label>
<input type="tel" name="phone" value="{{ user.phone or '' }}" placeholder="+90 (XXX) XXX-XX-XX" class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary transition-all" />
</div>

<div>
<label class="text-sm font-semibold text-gray-700 dark:text-gray-300 block mb-2">Adres</label>
<textarea name="address" rows="4" placeholder="Tam adresinizi girin..." class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary transition-all">{{ user.address or '' }}</textarea>
</div>

<button type="submit" class="btn-hover flex items-center justify-center gap-2 rounded-lg h-12 px-6 bg-primary text-white text-base font-bold tracking-wide hover:bg-primary/90 hover:shadow-lg transition-all duration-300 shadow-lg">
<span class="material-symbols-outlined">save</span>
<span>Değişiklikleri Kaydet</span>
</button>
</form>
</div>

<div class="lg:col-span-1">
<div class="bg-white dark:bg-gray-900/50 rounded-xl shadow-lg p-8">
<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2">
<span class="material-symbols-outlined text-primary">info</span>
Hesap Bilgileri
</h3>

<div class="space-y-4">
<div class="p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
<p class="text-xs text-gray-500 dark:text-gray-400 mb-1">E-Posta</p>
<p class="text-sm font-semibold text-gray-900 dark:text-white">{{ user.email }}</p>
</div>

<div class="p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg">
<p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Üyelik Tarihi</p>
<p class="text-sm font-semibold text-gray-900 dark:text-white">{{ user.created_at.strftime('%d.%m.%Y') }}</p>
</div>

<div class="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
<div class="flex items-center gap-2 text-blue-600 dark:text-blue-400 text-sm font-semibold mb-2">
<span class="material-symbols-outlined">verified</span>
Doğrulanmış Kullanıcı
</div>
<p class="text-xs text-blue-600 dark:text-blue-400">Hesabınız aktif ve tamamen işlevseldir.</p>
</div>

<a href="/logout-home" class="btn-hover flex items-center justify-center gap-2 rounded-lg h-11 px-5 bg-red-500/10 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-base font-bold tracking-wide hover:bg-red-500/20 dark:hover:bg-red-900/40 transition-all duration-300 w-full mt-6">
<span class="material-symbols-outlined">logout</span>
<span>Çıkış Yap</span>
</a>
</div>
</div>
</div>
</div>
</main>

<footer class="bg-white dark:bg-gray-900/50 mt-16 border-t border-gray-200 dark:border-gray-800">
<div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center text-gray-500 dark:text-gray-400">
<p>© 2024 TechStore. Tüm hakları saklıdır.</p>
</div>
</footer>
</div>
</div>
</body></html>
